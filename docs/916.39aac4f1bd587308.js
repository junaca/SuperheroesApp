"use strict";(self.webpackChunksuperheroesApp=self.webpackChunksuperheroesApp||[]).push([[916],{6916:(J,f,a)=>{a.r(f),a.d(f,{HeroeModule:()=>F});var l=a(6895),s=a(4006),h=a(3456),e=a(4650),x=a(3239),v=a(8505);let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-alert-dialog"]],decls:3,vars:0,consts:[[1,"dialog"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"No se han podido encontrar resultados con ese t\xe9rmino"),e.qZA()())},styles:[".dialog[_ngcontent-%COMP%]{padding:10px 24px;background-color:var(--background);border:3px solid var(--primary);color:#fff;justify-content:center}h1[_ngcontent-%COMP%]{margin:0}"]}),n})();var d=a(2340),g=a(7579),b=a(529);let m=(()=>{class n{get heroes(){return this._heroes.asObservable()}get dataResult(){return this._dataResult.asObservable()}get termino(){return this._termino.asObservable()}constructor(t,o){this.http=t,this.router=o,this.baseUrl=d.N.baseUrl,this.hash=d.N.hash,this.apikey=d.N.apikey,this._heroes=new g.x,this._dataResult=new g.x,this._termino=new g.x}getSuperheroes(t,o=50,i=0){let c={ts:1e3,limit:o,offset:i,apikey:this.apikey,hash:this.hash};return t&&(c=Object.assign(c,{nameStartsWith:t}),this._termino.next(t)),this.http.get(`${this.baseUrl}characters`,{params:c}).pipe((0,v.b)(p=>(this._heroes.next(p.data.results),this._dataResult.next({offset:p.data.offset,limit:p.data.limit,total:p.data.total,count:p.data.count}),p)))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(b.eN),e.LFG(h.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var y=a(5412),S=a(1572),O=a(7282);let M=(()=>{class n{constructor(t){this.sharedService=t,this.heroeImage=""}ngOnInit(){this.getCardImage()}getCardImage(){this.heroeImage=this.sharedService.getUrlImage(this.heroe.thumbnail.path,"portrait_incredible",this.heroe.thumbnail.extension)}toDetails(){this.sharedService.toDetails(this.heroe.id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-heroe-card"]],inputs:{heroe:"heroe"},decls:5,vars:2,consts:[[1,"heroe-card",3,"click"],[1,"heroe-card-img",3,"src"],[1,"heroe-card-name"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return o.toDetails()}),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"span"),e._uU(4),e.qZA()()()),2&t&&(e.xp6(1),e.s9C("src",o.heroeImage,e.LSH),e.xp6(3),e.Oqu(o.heroe.name))},styles:[".heroe-card[_ngcontent-%COMP%]{background-color:var(--primary);border-radius:12px;overflow:hidden;width:100%}.heroe-card[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translate(-5px,-5px);transition:transform .2s ease;border:1px solid var(--terciary)}.heroe-card-img[_ngcontent-%COMP%]{width:100%}.heroe-card-name[_ngcontent-%COMP%]{text-align:center;padding:16px;justify-content:center;align-items:center}.heroe-card-name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;text-align:center;font-size:30px;word-wrap:break-word;line-height:30px}"]}),n})();function P(n,r){1&n&&(e.TgZ(0,"div",2),e._UZ(1,"mat-spinner"),e.qZA())}function H(n,r){1&n&&e._UZ(0,"app-heroe-card",5),2&n&&e.Q6J("heroe",r.$implicit)}function w(n,r){if(1&n&&(e.TgZ(0,"div",3),e.YNc(1,H,1,1,"app-heroe-card",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.heroes)}}let T=(()=>{class n{constructor(t,o){this.heroeService=t,this.dialog=o,this.isReady=!1}ngOnInit(){this.heroeService.getSuperheroes().subscribe(),this.heroeService.heroes.pipe((0,v.b)(()=>{this.isReady=!1})).subscribe(t=>{if(t.length<=0){const o=this.dialog.open(C,{enterAnimationDuration:"300ms",exitAnimationDuration:"3000ms"});o.afterOpened().subscribe(i=>{setTimeout(()=>{o.close()},2e3)})}else this.heroes=t;this.isReady=!0})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m),e.Y36(y.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-heroe-list"]],decls:3,vars:2,consts:[["class","spinner",4,"ngIf","ngIfElse"],["heroeList",""],[1,"spinner"],[1,"heroe-list"],[3,"heroe",4,"ngFor","ngForOf"],[3,"heroe"]],template:function(t,o){if(1&t&&(e.YNc(0,P,2,0,"div",0),e.YNc(1,w,2,1,"ng-template",null,1,e.W1O)),2&t){const i=e.MAs(2);e.Q6J("ngIf",!o.isReady)("ngIfElse",i)}},dependencies:[l.sg,l.O5,S.Ou,M],styles:[".heroe-list[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(auto-fit,minmax(432px,1fr));padding:30px 3vw;justify-content:space-around;align-items:center;grid-gap:3vw}@media (max-width: 1500px){.heroe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(334px,1fr))}}@media (max-width: 765px){.heroe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(216px,500px))}}"]}),n})();var u=a(1581);let _=(()=>{class n extends u.NW{constructor(t,o,i){super(o,i),this.heroeService=t,this.customPaginatorIntl=o,this.changeDetectorRef=i,this.currentPageIndex=1,this.displayedPages=[]}ngOnInit(){this.heroeService.dataResult.subscribe(t=>{this.length=t.total,this.pageSize=t.count}),this.heroeService.termino.subscribe(t=>{this.termino=t})}get lastPageIndex(){return Math.floor(this.length/this.pageSize)}updateDisplayedPages(t){this.length=t.length,this.currentPageIndex=t.pageIndex,this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.pageIndex>this.lastPageIndex&&(this.pageIndex=this.lastPageIndex),this.heroeService.getSuperheroes(this.termino,this.pageSize,this.pageIndex*this.pageSize).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m),e.Y36(u.ye),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-paginator"]],features:[e.qOj],decls:2,vars:2,consts:[[1,"paginator"],["aria-label","Select page","hidePageSize","",3,"length","pageSize","page"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"mat-paginator",1),e.NdJ("page",function(c){return o.updateDisplayedPages(c)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("length",o.length)("pageSize",o.pageSize))},dependencies:[u.NW],styles:[".paginator[_ngcontent-%COMP%]{background-color:var(--primary);justify-content:center}mat-paginator[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto;background-color:inherit}"]}),n})(),I=(()=>{class n{constructor(t){this.heroeService=t}searchHeroe(){this.heroeService.getSuperheroes(this.termino||void 0).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-searchbar"]],decls:5,vars:1,consts:[[1,"row"],["autocomplete","off",1,"col","mx-auto","div-searchContainer",3,"ngSubmit"],["type","text","name","termino",1,"form-control","input-search",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-search"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return o.searchHeroe()}),e.TgZ(2,"input",2),e.NdJ("ngModelChange",function(c){return o.termino=c}),e.qZA(),e.TgZ(3,"button",3),e._uU(4," Buscar "),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngModel",o.termino))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.On,s.F],styles:[".row[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto}.div-searchContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.input-search[_ngcontent-%COMP%]{width:30vw;min-width:500px;background-color:#fff;border:2px solid var(--primary);border-radius:25px;padding-left:20px;font-size:20px}.btn-search[_ngcontent-%COMP%]{font-size:20px;background-color:var(--primary);color:#fff;border-radius:100px;padding:10px 24px}.btn-search[_ngcontent-%COMP%]:hover{background-color:var(--terciary)}@media (max-width: 700px){.input-search[_ngcontent-%COMP%]{width:100%;min-width:inherit}.btn-search[_ngcontent-%COMP%]{width:100%}}"]}),n})();const Z=[{path:"",children:[{path:"listado",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"home-body"],["src","./assets/images/marvel-logo.jpg",1,"img-logo","mx-auto","d-block"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"img",1)(2,"app-searchbar")(3,"app-heroe-list"),e.TgZ(4,"div"),e._UZ(5,"app-top-boton")(6,"app-paginator"),e.qZA()())},dependencies:[x.M,T,_,I],styles:[".home-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:50px;color:#fff}.img-logo[_ngcontent-%COMP%]{margin-top:50px}"]}),n})()},{path:"**",redirectTo:"listado"}]}];let z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild(Z),h.Bz]}),n})();var A=a(3004);let F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,z,A.m,s.u5]}),n})()}}]);